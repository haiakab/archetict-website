"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("@react-three/fiber"),t=require("@babel/runtime/helpers/extends"),n=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),o=require("troika-three-text");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=u(t),c=u(n),a=e.forwardRef((function(t,n){var u=t.anchorX,a=void 0===u?"center":u,f=t.anchorY,s=void 0===f?"middle":f,d=t.children,h=t.onSync,l=c.default(t,["anchorX","anchorY","children","onSync"]),p=r.useThree((function(e){return e.invalidate})),b=e.useState((function(){return new o.Text}))[0],v=e.useMemo((function(){var r=[],t="";return e.Children.forEach(d,(function(e){"string"==typeof e||"number"==typeof e?t+=e:r.push(e)})),[r,t]}),[d]),y=v[0],m=v[1];return e.useLayoutEffect((function(){b.sync((function(){p(),h&&h(b)}))})),e.useEffect((function(){return function(){return b.dispose()}}),[b]),e.createElement("primitive",i.default({object:b,ref:n,text:m,anchorX:a,anchorY:s},l),y)}));exports.Text=a;
