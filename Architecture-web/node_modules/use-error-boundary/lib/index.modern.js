import r,{PureComponent as e,useReducer as t,useRef as n}from"react";class o extends e{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,e){return this.props.onDidCatch(r,e)}render(){const{hasError:r,error:e}=this.state,{render:t,children:n,renderError:o}=this.props;return r?o?o({error:e}):null:t?t():n||null}}const c=(r,e)=>{switch(e.type){case"catch":return{didCatch:!0,error:e.error};default:return r}};function d(e){const[d,a]=t(c,{didCatch:!1,error:null}),u=n(null);return{ErrorBoundary:function(){let t=u.current;return null!==t||(n=(r,t)=>{a({type:"catch",error:r}),e&&e.onDidCatch&&e.onDidCatch(r,t)},t=function(e){return r.createElement(o,{onDidCatch:n,children:e.children,render:e.render,renderError:e.renderError})},u.current=t),t;var n}(),didCatch:d.didCatch,error:d.error}}export default d;export{d as useErrorBoundary};
//# sourceMappingURL=index.modern.js.map
