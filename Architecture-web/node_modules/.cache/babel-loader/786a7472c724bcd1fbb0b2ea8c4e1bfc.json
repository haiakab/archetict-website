{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useRef, useState, useEffect, createElement } from 'react';\nimport { WebGLMultisampleRenderTarget, RGBAFormat, sRGBEncoding } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\nextend({\n  EffectComposer,\n  RenderPass,\n  ShaderPass\n});\n\nconst isWebGL2Available = () => {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\n\nconst Effects = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    multisamping = 8,\n    renderIndex = 1,\n    disableGamma = false,\n    disableRenderPass = false\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"multisamping\", \"renderIndex\", \"disableGamma\", \"disableRenderPass\"]);\n\n  const composer = useRef();\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const size = useThree(({\n    size\n  }) => size);\n  const [target] = useState(() => {\n    if (isWebGL2Available() && multisamping > 0) {\n      const t = new WebGLMultisampleRenderTarget(size.width, size.height, {\n        format: RGBAFormat,\n        encoding: sRGBEncoding\n      });\n      t.samples = 8;\n      return t;\n    }\n  });\n  useEffect(() => {\n    var _composer$current, _composer$current2;\n\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(gl.getPixelRatio());\n  }, [gl, size]);\n  useFrame(() => {\n    var _composer$current3;\n\n    return (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  return /*#__PURE__*/createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), !disableRenderPass && /*#__PURE__*/createElement(\"renderPass\", {\n    attachArray: \"passes\",\n    args: [scene, camera]\n  }), !disableGamma && /*#__PURE__*/createElement(\"shaderPass\", {\n    attachArray: \"passes\",\n    args: [GammaCorrectionShader]\n  }), children);\n});\nexport { Effects, isWebGL2Available };","map":{"version":3,"sources":["/Users/haiakablan/Documents/לוטוס/קורס/Architecture-web/node_modules/@react-three/drei/core/Effects.js"],"names":["_extends","_objectWithoutPropertiesLoose","forwardRef","useRef","useState","useEffect","createElement","WebGLMultisampleRenderTarget","RGBAFormat","sRGBEncoding","extend","useThree","useFrame","mergeRefs","EffectComposer","RenderPass","ShaderPass","GammaCorrectionShader","isWebGL2Available","canvas","document","window","WebGL2RenderingContext","getContext","e","Effects","_ref","ref","children","multisamping","renderIndex","disableGamma","disableRenderPass","props","composer","scene","camera","gl","size","target","t","width","height","format","encoding","samples","_composer$current","_composer$current2","current","setSize","setPixelRatio","getPixelRatio","_composer$current3","render","args","attachArray"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useRef, useState, useEffect, createElement } from 'react';\nimport { WebGLMultisampleRenderTarget, RGBAFormat, sRGBEncoding } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\n\nextend({\n  EffectComposer,\n  RenderPass,\n  ShaderPass\n});\nconst isWebGL2Available = () => {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\nconst Effects = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    children,\n    multisamping = 8,\n    renderIndex = 1,\n    disableGamma = false,\n    disableRenderPass = false\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"multisamping\", \"renderIndex\", \"disableGamma\", \"disableRenderPass\"]);\n\n  const composer = useRef();\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const size = useThree(({\n    size\n  }) => size);\n  const [target] = useState(() => {\n    if (isWebGL2Available() && multisamping > 0) {\n      const t = new WebGLMultisampleRenderTarget(size.width, size.height, {\n        format: RGBAFormat,\n        encoding: sRGBEncoding\n      });\n      t.samples = 8;\n      return t;\n    }\n  });\n  useEffect(() => {\n    var _composer$current, _composer$current2;\n\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(gl.getPixelRatio());\n  }, [gl, size]);\n  useFrame(() => {\n    var _composer$current3;\n\n    return (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  return /*#__PURE__*/createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), !disableRenderPass && /*#__PURE__*/createElement(\"renderPass\", {\n    attachArray: \"passes\",\n    args: [scene, camera]\n  }), !disableGamma && /*#__PURE__*/createElement(\"shaderPass\", {\n    attachArray: \"passes\",\n    args: [GammaCorrectionShader]\n  }), children);\n});\n\nexport { Effects, isWebGL2Available };\n"]},"metadata":{},"sourceType":"module"}