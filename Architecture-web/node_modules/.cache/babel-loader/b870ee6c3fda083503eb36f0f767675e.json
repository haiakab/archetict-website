{"ast":null,"code":"import { useLayoutEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction Preload({\n  all,\n  scene,\n  camera\n}) {\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const dCamera = useThree(({\n    camera\n  }) => camera);\n  const dScene = useThree(({\n    scene\n  }) => scene); // Layout effect because it must run before React commits\n\n  useLayoutEffect(() => {\n    const invisible = [];\n\n    if (all) {\n      (scene || dScene).traverse(object => {\n        if (object.visible === false) {\n          invisible.push(object);\n          object.visible = true;\n        }\n      });\n    } // Now compile the scene\n\n\n    gl.compile(scene || dScene, camera || dCamera); // Flips these objects back\n\n    invisible.forEach(object => object.visible = false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return null;\n}\n\nexport { Preload };","map":{"version":3,"sources":["/Users/haiakablan/Documents/לוטוס/קורס/Architecture-web/node_modules/@react-three/drei/core/Preload.js"],"names":["useLayoutEffect","useThree","Preload","all","scene","camera","gl","dCamera","dScene","invisible","traverse","object","visible","push","compile","forEach"],"mappings":"AAAA,SAASA,eAAT,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,oBAAzB;;AAEA,SAASC,OAAT,CAAiB;AACfC,EAAAA,GADe;AAEfC,EAAAA,KAFe;AAGfC,EAAAA;AAHe,CAAjB,EAIG;AACD,QAAMC,EAAE,GAAGL,QAAQ,CAAC,CAAC;AACnBK,IAAAA;AADmB,GAAD,KAEdA,EAFa,CAAnB;AAGA,QAAMC,OAAO,GAAGN,QAAQ,CAAC,CAAC;AACxBI,IAAAA;AADwB,GAAD,KAEnBA,MAFkB,CAAxB;AAGA,QAAMG,MAAM,GAAGP,QAAQ,CAAC,CAAC;AACvBG,IAAAA;AADuB,GAAD,KAElBA,KAFiB,CAAvB,CAPC,CASa;;AAEdJ,EAAAA,eAAe,CAAC,MAAM;AACpB,UAAMS,SAAS,GAAG,EAAlB;;AAEA,QAAIN,GAAJ,EAAS;AACP,OAACC,KAAK,IAAII,MAAV,EAAkBE,QAAlB,CAA2BC,MAAM,IAAI;AACnC,YAAIA,MAAM,CAACC,OAAP,KAAmB,KAAvB,EAA8B;AAC5BH,UAAAA,SAAS,CAACI,IAAV,CAAeF,MAAf;AACAA,UAAAA,MAAM,CAACC,OAAP,GAAiB,IAAjB;AACD;AACF,OALD;AAMD,KAVmB,CAUlB;;;AAGFN,IAAAA,EAAE,CAACQ,OAAH,CAAWV,KAAK,IAAII,MAApB,EAA4BH,MAAM,IAAIE,OAAtC,EAboB,CAa4B;;AAEhDE,IAAAA,SAAS,CAACM,OAAV,CAAkBJ,MAAM,IAAIA,MAAM,CAACC,OAAP,GAAiB,KAA7C,EAfoB,CAeiC;AACtD,GAhBc,EAgBZ,EAhBY,CAAf;AAiBA,SAAO,IAAP;AACD;;AAED,SAASV,OAAT","sourcesContent":["import { useLayoutEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction Preload({\n  all,\n  scene,\n  camera\n}) {\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const dCamera = useThree(({\n    camera\n  }) => camera);\n  const dScene = useThree(({\n    scene\n  }) => scene); // Layout effect because it must run before React commits\n\n  useLayoutEffect(() => {\n    const invisible = [];\n\n    if (all) {\n      (scene || dScene).traverse(object => {\n        if (object.visible === false) {\n          invisible.push(object);\n          object.visible = true;\n        }\n      });\n    } // Now compile the scene\n\n\n    gl.compile(scene || dScene, camera || dCamera); // Flips these objects back\n\n    invisible.forEach(object => object.visible = false); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return null;\n}\n\nexport { Preload };\n"]},"metadata":{},"sourceType":"module"}